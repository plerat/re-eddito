{% extends 'base.html.twig' %}



{% block body %}
    <h1>Post</h1>

    <table class="table">
        <tbody>
        <tr>
            <th>Id</th>
            <td>{{ post.id }}</td>
        </tr>
        <tr>
            <th>Title</th>
            <td>{{ post.title }}</td>
        </tr>
        <tr>
            <th>user</th>
            <td>
                <a href="{{ path('app_admin_user_post',{'id':  post.createdBy.id }) }}">{{ post.createdBy.pseudo }}</a>
            </td>
        </tr>
        <tr>
            <th>Content</th>
            <td>{{ post.content }}</td>
        </tr>
        <tr>
            <th>Created_at</th>
            <td>{{ post.createdAt ? post.createdAt|date('Y-m-d H:i:s') : '' }}</td>
        </tr>
        <tr>
            <th>File</th>
            {% for media in post.medias %}
                <td>
                    {% if media.type == 'mp4' or  media.type == 'avi' %}
                        <p>toto</p>
                        <video controls width="250">
                            <source src={{ path('app_media_download', {'id': media.id}) }} type="video/{{ media.type }}" />
                        </video>
                    {% else %}
                        <img src="{{ path('app_media_download', {'id': media.id}) }}" alt="{{ media.name }}">
                    {% endif %}
                </td>
            {% endfor %}
        </tr>
        </tbody>
    </table>


    {{ include('post/_delete_form.html.twig') }}

{% endblock %}
